(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b198f9fa"],{"057f":function(e,t,a){var c=a("fc6a"),r=a("241c").f,o={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return r(e)}catch(t){return n.slice()}};e.exports.f=function(e){return n&&"[object Window]"==o.call(e)?i(e):r(c(e))}},"30c0":function(e,t,a){},"4de4":function(e,t,a){"use strict";var c=a("23e7"),r=a("b727").filter,o=a("1dde"),n=o("filter");c({target:"Array",proto:!0,forced:!n},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"746f":function(e,t,a){var c=a("428f"),r=a("5135"),o=a("e538"),n=a("9bf2").f;e.exports=function(e){var t=c.Symbol||(c.Symbol={});r(t,e)||n(t,e,{value:o.f(e)})}},a4d3:function(e,t,a){"use strict";var c=a("23e7"),r=a("da84"),o=a("d066"),n=a("c430"),i=a("83ab"),s=a("4930"),l=a("fdbf"),d=a("d039"),u=a("5135"),f=a("e8b5"),p=a("861d"),b=a("825a"),m=a("7b0b"),g=a("fc6a"),h=a("c04e"),O=a("5c6c"),v=a("7c73"),j=a("df75"),y=a("241c"),N=a("057f"),V=a("7418"),x=a("06cf"),k=a("9bf2"),w=a("d1e7"),S=a("9112"),D=a("6eeb"),_=a("5692"),$=a("f772"),C=a("d012"),L=a("90e3"),T=a("b622"),B=a("e538"),E=a("746f"),P=a("d44e"),q=a("69f3"),I=a("b727").forEach,U=$("hidden"),J="Symbol",F="prototype",M=T("toPrimitive"),A=q.set,Q=q.getterFor(J),W=Object[F],z=r.Symbol,G=o("JSON","stringify"),H=x.f,K=k.f,R=N.f,X=w.f,Y=_("symbols"),Z=_("op-symbols"),ee=_("string-to-symbol-registry"),te=_("symbol-to-string-registry"),ae=_("wks"),ce=r.QObject,re=!ce||!ce[F]||!ce[F].findChild,oe=i&&d((function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,a){var c=H(W,t);c&&delete W[t],K(e,t,a),c&&e!==W&&K(W,t,c)}:K,ne=function(e,t){var a=Y[e]=v(z[F]);return A(a,{type:J,tag:e,description:t}),i||(a.description=t),a},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},se=function(e,t,a){e===W&&se(Z,t,a),b(e);var c=h(t,!0);return b(a),u(Y,c)?(a.enumerable?(u(e,U)&&e[U][c]&&(e[U][c]=!1),a=v(a,{enumerable:O(0,!1)})):(u(e,U)||K(e,U,O(1,{})),e[U][c]=!0),oe(e,c,a)):K(e,c,a)},le=function(e,t){b(e);var a=g(t),c=j(a).concat(be(a));return I(c,(function(t){i&&!ue.call(a,t)||se(e,t,a[t])})),e},de=function(e,t){return void 0===t?v(e):le(v(e),t)},ue=function(e){var t=h(e,!0),a=X.call(this,t);return!(this===W&&u(Y,t)&&!u(Z,t))&&(!(a||!u(this,t)||!u(Y,t)||u(this,U)&&this[U][t])||a)},fe=function(e,t){var a=g(e),c=h(t,!0);if(a!==W||!u(Y,c)||u(Z,c)){var r=H(a,c);return!r||!u(Y,c)||u(a,U)&&a[U][c]||(r.enumerable=!0),r}},pe=function(e){var t=R(g(e)),a=[];return I(t,(function(e){u(Y,e)||u(C,e)||a.push(e)})),a},be=function(e){var t=e===W,a=R(t?Z:g(e)),c=[];return I(a,(function(e){!u(Y,e)||t&&!u(W,e)||c.push(Y[e])})),c};if(s||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),a=function(e){this===W&&a.call(Z,e),u(this,U)&&u(this[U],t)&&(this[U][t]=!1),oe(this,t,O(1,e))};return i&&re&&oe(W,t,{configurable:!0,set:a}),ne(t,e)},D(z[F],"toString",(function(){return Q(this).tag})),D(z,"withoutSetter",(function(e){return ne(L(e),e)})),w.f=ue,k.f=se,x.f=fe,y.f=N.f=pe,V.f=be,B.f=function(e){return ne(T(e),e)},i&&(K(z[F],"description",{configurable:!0,get:function(){return Q(this).description}}),n||D(W,"propertyIsEnumerable",ue,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:z}),I(j(ae),(function(e){E(e)})),c({target:J,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var a=z(t);return ee[t]=a,te[a]=t,a},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),c({target:"Object",stat:!0,forced:!s,sham:!i},{create:de,defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:fe}),c({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe,getOwnPropertySymbols:be}),c({target:"Object",stat:!0,forced:d((function(){V.f(1)}))},{getOwnPropertySymbols:function(e){return V.f(m(e))}}),G){var me=!s||d((function(){var e=z();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));c({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,a){var c,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(c=t,(p(t)||void 0!==e)&&!ie(e))return f(t)||(t=function(e,t){if("function"==typeof c&&(t=c.call(this,e,t)),!ie(t))return t}),r[1]=t,G.apply(null,r)}})}z[F][M]||S(z[F],M,z[F].valueOf),P(z,J),C[U]=!0},b0c0:function(e,t,a){var c=a("83ab"),r=a("9bf2").f,o=Function.prototype,n=o.toString,i=/^\s*function ([^ (]*)/,s="name";c&&!(s in o)&&r(o,s,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(e){return""}}})},c0cc:function(e,t,a){"use strict";a("159b"),a("99af"),a("a434"),a("4de4");var c={name:"MixUser",data:function(){return{loadingStatus:{loadingItem:""},carData:JSON.parse(localStorage.getItem("carData"))||[],cart:{carts:[]},cartLength:0,coupon_code:""}},computed:{totalPrice:function(){var e=this,t=[];return e.carData.forEach((function(e){t.push(parseInt(e.price*e.qty))})),t.reduce((function(e,t){return e+t}),0)}},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart");e.$store.dispatch("updateLoading",!0),e.$http.get(t).then((function(t){e.cart=t.data.data,e.cartLength=e.cart.carts.length,console.log("購物車列表",e.cart),e.$store.dispatch("updateLoading",!1)}))},addlocalCarts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,c=[];if(a.carData.forEach((function(e){c.push(e.product_id)})),a.toastTopEnd("".concat(e.title," 加入購物車"),"success"),-1===c.indexOf(e.id)){var r={product_id:e.id,qty:t,title:e.title,imageUrl:e.imageUrl,unit:e.unit,origin_price:e.origin_price,price:e.price,category:e.category};a.carData.push(r),localStorage.setItem("carData",JSON.stringify(a.carData))}else{var o={};a.carData.forEach((function(c,r){if(c.product_id===e.id){var n=c.qty;o={product_id:e.id,qty:n+=t,title:e.title,imageUrl:e.imageUrl,unit:e.unit,origin_price:e.origin_price,price:e.price,category:e.category},a.carData.splice(r,1)}})),a.carData.push(o),localStorage.setItem("carData",JSON.stringify(a.carData))}},delLocalCart:function(e){var t=this;t.carData.filter((function(a,c){a.product_id===e.product_id&&(t.carData.splice(c,1),localStorage.setItem("carData",JSON.stringify(t.carData)),t.toastTopEnd("已移除購物車","success"))}))},delAllLocalCarts:function(){localStorage.removeItem("carData"),this.carData=JSON.parse(localStorage.getItem("carData"))||[],console.log("清空 localStorage 購物車全部內容"),this.toastTopEnd("購物車商品已全部刪除","success")},addCouponCode:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/coupon"),a={code:e.coupon_code};e.$store.dispatch("updateLoading",!0),e.$http.post(t,{data:a}).then((function(t){t.data.success?(e.toastTopEnd(t.data.message,"success"),e.$store.dispatch("updateLoading",!1),e.getCarts()):(e.toastTopEnd(t.data.message,"error"),e.$store.dispatch("updateLoading",!1))}))},postCarts:function(){var e=this;this.coupon_code="",this.$store.dispatch("updateLoading",!0);var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/carts"),a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart");this.$http.delete(t).then((function(){console.log("1. 清空 API 購物車全部品項")})).then((function(){e.carData.forEach((function(t,c){var r={product_id:t.product_id,qty:t.qty};e.$http.post(a,{data:r}).then((function(){console.log("2. 產品索引",c,"POST 購物車成功"),setTimeout((function(){e.carData.length-1===c&&(console.log("3. 跑到最後一個 index",c,"準備轉址"),e.$store.dispatch("updateLoading",!1),e.$router.push("/checkout/order_create"),e.getCarts())}),4e3)}))}))}))},removeCartItem:function(e){var t=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart/").concat(e);t.$store.dispatch("updateLoading",!0),t.$http.delete(a).then((function(e){e.data.success?(t.toastTopEnd(e.data.message,"success"),t.$store.dispatch("updateLoading",!1),t.getCarts()):(t.toastTopEnd(e.data.message,"error"),t.$store.dispatch("updateLoading",!1))})).catch((function(e){t.$swal({title:e.data.message,icon:"error"}),t.$store.dispatch("updateLoading",!1)}))},deleteAllCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/carts");e.$store.dispatch("updateLoading",!0),e.$http.delete(t).then((function(t){console.log("刪除全部商品",t.data),t.data.success?(e.toastTopEnd("購物車商品已全部刪除","success"),e.getCarts()):e.toastTopEnd(t.data.message,"error"),e.$store.dispatch("updateLoading",!1)})).catch((function(t){e.$swal({title:t.data.message,icon:"error"}),e.$store.dispatch("updateLoading",!1)}))},cartBtn:function(e,t){var a=this;if("add"===e)a.carData.filter((function(e){e.product_id===t.product_id&&(e.qty=e.qty+1),localStorage.setItem("carData",JSON.stringify(a.carData))}));else if("minus"===e){if(t.qty<=1)return;a.carData.filter((function(e){e.product_id===t.product_id&&(e.qty=e.qty-1),localStorage.setItem("carData",JSON.stringify(a.carData))}))}},productCartBtn:function(e){"add"===e?this.num+=1:"minus"===e&&(this.num-=1)},getDiscount:function(e){var t=Math.round(e);return t},toastTopEnd:function(e,t){this.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:t,title:e})}},created:function(){}};t["a"]=c},d824:function(e,t,a){"use strict";a("30c0")},dbb4:function(e,t,a){var c=a("23e7"),r=a("83ab"),o=a("56ef"),n=a("fc6a"),i=a("06cf"),s=a("8418");c({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,a,c=n(e),r=i.f,l=o(c),d={},u=0;while(l.length>u)a=r(c,t=l[u++]),void 0!==a&&s(d,t,a);return d}})},e1ad:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),r={class:"mt-13 mb-20"},o=Object(c["createVNode"])("img",{src:"https://upload.cc/i1/2021/06/12/N7mIQ1.gif\r\n",alt:"loading"},null,-1),n=Object(c["createVNode"])("h3",{class:"text-theme fw-bolder mt-10 mb-4"},"收件資訊",-1),i={key:0,class:"row"},s={class:"col-12 col-md-5"},l={class:"order py-4 px-0 p-sm-4"},d={class:"row flex-wrap"},u={class:"col-3 col-md-2 px-0 px-md-0"},f={class:"orderImg h-100"},p={class:"col-9 col-md-10 px-0"},b={class:"row mx-3 w-100"},m={class:"col-12 col-md-6 pb-3 px-0"},g={class:"orderTitle fw-bolder pt-md-9 ps-4"},h={class:"col-6 col-md-2 pb-3 px-0"},O={class:"pt-md-9 ms-md-3"},v={class:"col-6 col-md-4 pt-md-9 text-end"},j={class:"orderTotal pe-3"},y={class:"border-0 mb-0"},N={class:"row"},V={class:"col-6 text-end"},x={class:"col-6 ps-0 pe-7 text-end text-sgreen fw-bolder"},k={key:0,class:"text-end mt-3"},w={key:1,class:"text-end mt-3"},S={class:"col-12 col-md-7 order-info align-self-baseline"},D={class:"col-md-6"},_=Object(c["createVNode"])("label",{for:"姓名",class:"form-label"},[Object(c["createTextVNode"])("收件人姓名"),Object(c["createVNode"])("span",{class:"text-danger",style:{"padding-left":"3px"}},"*")],-1),$={class:"col-md-6"},C=Object(c["createVNode"])("label",{for:"手機",class:"form-label"},[Object(c["createTextVNode"])("收件人手機"),Object(c["createVNode"])("span",{class:"text-danger",style:{"padding-left":"3px"}},"*")],-1),L={class:"col-md-6"},T=Object(c["createVNode"])("label",{for:"email",class:"form-label"},[Object(c["createTextVNode"])("收件人 Email"),Object(c["createVNode"])("span",{class:"text-danger",style:{"padding-left":"3px"}},"*")],-1),B=Object(c["createVNode"])("div",{class:"col-md-6"},[Object(c["createVNode"])("label",{for:"payment",class:"form-label"},[Object(c["createTextVNode"])("付款方式"),Object(c["createVNode"])("span",{class:"text-danger",style:{"padding-left":"3px"}},"*")]),Object(c["createVNode"])("select",{id:"payment",class:"form-select","aria-label":"Default select example"},[Object(c["createVNode"])("option",{value:"1"},"貨到付款"),Object(c["createVNode"])("option",{value:"2"},"超商付款"),Object(c["createVNode"])("option",{value:"3"},"ATM付款")])],-1),E={class:"col-12"},P=Object(c["createVNode"])("label",{for:"地址",class:"form-label"},[Object(c["createTextVNode"])("收件人地址"),Object(c["createVNode"])("span",{class:"text-danger",style:{"padding-left":"3px"}},"*")],-1),q={class:"col-12 mt-5"},I=Object(c["createVNode"])("label",null,"購買通路",-1),U={class:"d-flex align-items-center flex-wrap"},J={key:0,class:"d-flex align-items-center"},F={class:"me-3"},M=Object(c["createVNode"])("input",{class:"form-control",type:"text",placeholder:"業務姓名",style:{width:"135px"}},null,-1),A={key:1,class:"d-flex align-items-center"},Q={class:"me-3"},W=Object(c["createVNode"])("input",{class:"form-control",type:"text",placeholder:"請填寫",style:{width:"175px"}},null,-1),z={key:2,class:"me-4"},G={class:"mb-3"},H=Object(c["createVNode"])("label",{for:"留言",class:"form-label"},"留言",-1),K={class:"col-12 d-flex justify-content-between mt-10 mb-7"},R=Object(c["createVNode"])("i",{class:"fas fas fa-angle-double-left me-3"},null,-1),X=Object(c["createTextVNode"])("上一步 "),Y=Object(c["createVNode"])("button",{type:"submit",class:"btn btn-theme hvr-bounce-to-right"},"送出訂單",-1);function Z(e,t,a,Z,ee,te){var ae=Object(c["resolveComponent"])("loading"),ce=Object(c["resolveComponent"])("Field"),re=Object(c["resolveComponent"])("error-message"),oe=Object(c["resolveComponent"])("router-link"),ne=Object(c["resolveComponent"])("Form");return Object(c["openBlock"])(),Object(c["createBlock"])("section",r,[Object(c["createVNode"])(ae,{active:e.isLoading,"onUpdate:active":t[1]||(t[1]=function(t){return e.isLoading=t})},{default:Object(c["withCtx"])((function(){return[o]})),_:1},8,["active"]),n,e.cartLength>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",i,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("ul",l,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.cart.carts,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:"orderList",key:t.product_id},[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("img",{src:t.product.imageUrl,alt:"cart-item"},null,8,["src"])])]),Object(c["createVNode"])("div",p,[Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",m,[Object(c["createVNode"])("div",g,Object(c["toDisplayString"])(t.product.title),1)]),Object(c["createVNode"])("div",h,[Object(c["createVNode"])("div",O,"x "+Object(c["toDisplayString"])(t.qty),1)]),Object(c["createVNode"])("div",v,[Object(c["createVNode"])("div",j,"NT $"+Object(c["toDisplayString"])(e.getDiscount(t.final_total)),1)])])])])])})),128)),Object(c["createVNode"])("li",y,[Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",V," 共 "+Object(c["toDisplayString"])(e.cartLength)+" 項",1),Object(c["createVNode"])("div",x,"總計金額 NT$ "+Object(c["toDisplayString"])(e.getDiscount(e.cart.final_total)),1)])])]),e.cart.total!==e.cart.final_total?(Object(c["openBlock"])(),Object(c["createBlock"])("div",k,"( 已套用優惠券 )")):Object(c["createCommentVNode"])("",!0),e.cart.total===e.cart.final_total?(Object(c["openBlock"])(),Object(c["createBlock"])("div",w,"( 未套用優惠券 )")):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",S,[Object(c["createVNode"])(ne,{onSubmit:te.createOrder,"validation-schema":ee.schema,ref:"form",class:"row customer g-3 mt-5 mx-auto",style:{"max-width":"800px"}},{default:Object(c["withCtx"])((function(e){var a=e.errors;return[Object(c["createVNode"])("div",D,[_,Object(c["createVNode"])(ce,{modelValue:ee.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ee.form.user.name=e}),modelModifiers:{trim:!0},type:"text",class:["form-control",{"is-invalid":a["姓名"]}],id:"姓名",name:"姓名",rules:"required",placeholder:"請輸入姓名"},null,8,["modelValue","class"]),Object(c["createVNode"])(re,{name:"姓名",class:"error-text invalid-feedback"})]),Object(c["createVNode"])("div",$,[C,Object(c["createVNode"])(ce,{modelValue:ee.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return ee.form.user.tel=e}),type:"tel",rules:"required",class:[{"is-invalid":a["手機"]},"form-control"],id:"手機",name:"手機",placeholder:"請輸入手機"},null,8,["modelValue","class"]),Object(c["createVNode"])(re,{name:"手機",class:"error-text invalid-feedback"})]),Object(c["createVNode"])("div",L,[T,Object(c["createVNode"])(ce,{modelValue:ee.form.user.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ee.form.user.email=e}),modelModifiers:{trim:!0},type:"email",class:[{"is-invalid":a["email"]},"form-control"],rules:"email|required",id:"email",name:"email",placeholder:"請輸入 email"},null,8,["modelValue","class"]),Object(c["createVNode"])(re,{name:"email",class:"error-text invalid-feedback"})]),B,Object(c["createVNode"])("div",E,[P,Object(c["createVNode"])(ce,{modelValue:ee.form.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ee.form.user.address=e}),modelModifiers:{trim:!0},class:[{"is-invalid":a["地址"]},"form-control"],rules:"required",type:"text",id:"地址",name:"地址",placeholder:"請輸入地址"},null,8,["modelValue","class"]),Object(c["createVNode"])(re,{name:"地址",class:"error-text invalid-feedback"})]),Object(c["createVNode"])("div",q,[I,Object(c["createVNode"])("div",U,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(ee.buyChannels,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:e.key},["seller"==e.key?(Object(c["openBlock"])(),Object(c["createBlock"])("div",J,[Object(c["createVNode"])("div",F,[Object(c["createVNode"])(ce,{type:"radio",name:"購買通路",value:e.key,id:e.key,class:"me-2"},null,8,["value","id"]),Object(c["createVNode"])("label",{for:e.key},Object(c["toDisplayString"])(e.value),9,["for"])]),M])):"others"==e.key?(Object(c["openBlock"])(),Object(c["createBlock"])("div",A,[Object(c["createVNode"])("div",Q,[Object(c["createVNode"])(ce,{type:"radio",name:"購買通路",value:e.key,id:e.key,class:"me-2"},null,8,["value","id"]),Object(c["createVNode"])("label",{for:e.key},Object(c["toDisplayString"])(e.value),9,["for"])]),W])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",z,[Object(c["createVNode"])(ce,{type:"radio",name:"購買通路",value:e.key,id:e.key,class:"me-2"},null,8,["value","id"]),Object(c["createVNode"])("label",{for:e.key},Object(c["toDisplayString"])(e.value),9,["for"])]))],64)})),128))]),Object(c["createVNode"])(re,{name:"購買通路",class:"error-text"})]),Object(c["createVNode"])("div",G,[H,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{name:"留言",id:"留言",class:"form-control",cols:"20",rows:"5","onUpdate:modelValue":t[6]||(t[6]=function(e){return ee.form.message=e}),placeholder:"歡迎留下對我們說的話"},null,512),[[c["vModelText"],ee.form.message,void 0,{trim:!0}]])]),Object(c["createVNode"])("div",K,[Object(c["createVNode"])(oe,{to:"/checkout/order_create",class:"btn btn-theme hvr-bounce-to-right",type:"button"},{default:Object(c["withCtx"])((function(){return[R,X]})),_:1}),Y])]})),_:1},8,["onSubmit","validation-schema"])])])):Object(c["createCommentVNode"])("",!0)])}var ee=a("5530"),te=(a("99af"),a("5502")),ae=a("c0cc"),ce={mixins:[ae["a"]],data:function(){var e={"姓名":"required",email:"required|email","地址":"required","購買通路":function(e){return!!e||'你需要選擇 "購買通路"'},"手機":function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"}};return{schema:e,form:{user:{name:"",email:"",tel:"",address:""},message:""},buyChannels:[{key:"department",value:"百貨專櫃"},{key:"drug",value:"藥局診所"},{key:"online",value:"網路購買"},{key:"gift",value:"親友贈送"},{key:"seller",value:"專員訂購"},{key:"others",value:"其他"}]}},computed:Object(ee["a"])({},Object(te["c"])(["isLoading","orderStep"])),methods:Object(ee["a"])(Object(ee["a"])({},Object(te["b"])(["setOrderStep"])),{},{createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/order"),a=e.form;e.$store.dispatch("updateLoading",!0),0===e.cart.carts.length?(e.$store.dispatch("updateLoading",!1),e.toastTopEnd("購物車空空的哦...，無法送出訂單","error")):e.$http.post(t,{data:a}).then((function(t){e.$store.dispatch("updateLoading",!1),t.data.success?(console.log(t.data),e.toastTopEnd(t.data.message,"success"),e.getCarts(),e.delAllLocalCarts(),e.$refs.form.resetForm(),e.form.message="",e.$router.push("/checkout/order_paid/".concat(t.data.orderId))):e.toastTopEnd(t.data.message,"error")})).catch((function(t){e.toastTopEnd(t.data.message,"error"),e.$store.dispatch("updateLoading",!1)}))}}),created:function(){this.getCarts(),this.setOrderStep("paying")}};a("d824");ce.render=Z;t["default"]=ce},e439:function(e,t,a){var c=a("23e7"),r=a("d039"),o=a("fc6a"),n=a("06cf").f,i=a("83ab"),s=r((function(){n(1)})),l=!i||s;c({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return n(o(e),t)}})},e538:function(e,t,a){var c=a("b622");t.f=c}}]);
//# sourceMappingURL=chunk-b198f9fa.502d11f5.js.map