(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16d9dacc"],{"057f":function(t,e,c){var a=c("fc6a"),r=c("241c").f,o={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return r(t)}catch(e){return n.slice()}};t.exports.f=function(t){return n&&"[object Window]"==o.call(t)?i(t):r(a(t))}},"346c":function(t,e,c){"use strict";c("ca9f")},"4de4":function(t,e,c){"use strict";var a=c("23e7"),r=c("b727").filter,o=c("1dde"),n=o("filter");a({target:"Array",proto:!0,forced:!n},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));c("b64b"),c("a4d3"),c("4de4"),c("e439"),c("159b"),c("dbb4");function a(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function r(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,a)}return c}function o(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?r(Object(c),!0).forEach((function(e){a(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}},"62b3":function(t,e,c){"use strict";c.r(e);var a=c("7a23"),r={class:"cart"},o=Object(a["createVNode"])("img",{src:"https://upload.cc/i1/2021/06/12/N7mIQ1.gif\r\n",alt:"loading"},null,-1),n={class:"container mb-13 mb-md-20"},i=Object(a["createVNode"])("div",{class:"w-100 cart-banner mb-12"},null,-1),s={class:"d-flex align-items-center justify-content-between mb-4"},l=Object(a["createVNode"])("h3",{class:"text-theme fw-bolder"},"購買清單",-1),d={class:"row"},u={class:"col-12"},f={key:0,class:"empty fw-bolder d-flex align-items-center justify-content-center"},p=Object(a["createVNode"])("p",null,"您的購物車現在沒有商品喔，快去購物吧!!",-1),b=Object(a["createTextVNode"])("逛逛商店"),g={key:1,class:"order py-4 px-0 p-sm-4"},h={class:"row flex-wrap"},m={class:"col-3 col-md-2 px-0 px-md-0"},O={class:"col-8 col-md-9 px-0"},v={class:"row mx-3 w-100"},j={class:"col-12 col-md-3 pb-3 px-0"},y={class:"orderTitle fw-bolder pt-md-9"},N={class:"col-md-2 pb-3 px-0"},w={class:"pt-md-9 ms-md-3"},x={class:"col-12 col-md-4 pb-3 px-0 pt-md-9"},V={class:"orderNum"},D={class:"input-group justify-content-start align-items-center"},S=Object(a["createVNode"])("i",{class:"fas fa-minus"},null,-1),C={class:"form-control text-center m-0 cartNum py-2 px-2"},k=Object(a["createVNode"])("i",{class:"fas fa-plus"},null,-1),_={class:"col-12 col-md-3 pt-md-9 text-end"},L={class:"orderTotal"},$={class:"col-1 orderDel px-0 pt-md-9 text-center text-sm-end"},P=Object(a["createVNode"])("i",{class:"far fa-trash-alt"},null,-1),T={class:"orderList border-0 mb-0"},E={class:"row"},B={class:"col-4 col-sm-6 text-end"},I=Object(a["createVNode"])("div",{class:"col-3 col-sm-3 text-end fw-bolder text-sgreen"},"總計",-1),q={class:"col-4 col-sm-2 text-end fw-bolder text-sgreen p-0"},J=Object(a["createVNode"])("div",{class:"col-1 p-0"},null,-1),U={key:0,class:"d-flex justify-content-between mt-8"},A=Object(a["createVNode"])("i",{class:"fa fa-undo me-3"},null,-1),F=Object(a["createTextVNode"])("繼續購物 "),M=Object(a["createTextVNode"])(" 前往結帳"),Q=Object(a["createVNode"])("i",{class:"fas fa-angle-double-right ms-3"},null,-1),z=Object(a["createStaticVNode"])('<div class="product-content mt-15 mt-md-20 mb-4"><h3>NOTICE</h3></div><div class="text-sgreen d-flex align-items-center"><i class="fas fa-exclamation-circle me-5" style="font-size:20px;"></i><h5 class="fw-bolder">注意事項</h5></div><ul class="notice ps-11 fw-bolder"><li class="mt-5">所有產品保證全為原裝進口，品質有保障。</li><li>請確認所填寫的資料是否正確，下單後未提供修改付款方式服務。</li><li>提供完整客戶諮詢服務。</li><li>提供您最有保障及便利的購物環境。</li><li>所有商品運送均使用統一速達宅急便，可挑選最方便收貨時間。</li><li>本店商品為統一會於付款後 7 個工作日內出貨(不含假日)。</li><li>辦理退換貨時，商品必須是全新狀態與完整包裝，退回之商品必須於 7 日鑑賞期內寄回。</li></ul>',3);function W(t,e,c,W,G,H){var K=Object(a["resolveComponent"])("loading"),R=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createBlock"])("section",r,[Object(a["createVNode"])(K,{active:t.isLoading,"onUpdate:active":e[1]||(e[1]=function(e){return t.isLoading=e})},{default:Object(a["withCtx"])((function(){return[o]})),_:1},8,["active"]),Object(a["createVNode"])("div",n,[i,Object(a["createVNode"])("div",s,[l,t.carData.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:0,onClick:e[2]||(e[2]=function(){return t.delAllLocalCarts&&t.delAllLocalCarts.apply(t,arguments)}),class:"btn btn-outline-danger",type:"button"},"清空購物車")):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("div",d,[Object(a["createVNode"])("div",u,[0==t.carData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("div",f,[Object(a["createVNode"])("div",null,[p,Object(a["createVNode"])(R,{to:"/products",class:"btn btn-theme btn-lg text-white mt-9 fw-bolder hvr-bounce-to-right"},{default:Object(a["withCtx"])((function(){return[b]})),_:1})])])):Object(a["createCommentVNode"])("",!0),t.carData.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("ul",g,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t.carData,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"orderList",key:e.product_id},[Object(a["createVNode"])("div",h,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])(R,{to:{name:"ProductDetail",params:{id:e.product_id}},class:"orderImg h-100"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("img",{src:e.imageUrl,alt:"cart-item"},null,8,["src"])]})),_:2},1032,["to"])]),Object(a["createVNode"])("div",O,[Object(a["createVNode"])("div",v,[Object(a["createVNode"])("div",j,[Object(a["createVNode"])("div",y,Object(a["toDisplayString"])(e.title),1)]),Object(a["createVNode"])("div",N,[Object(a["createVNode"])("div",w,"NT$ "+Object(a["toDisplayString"])(e.price),1)]),Object(a["createVNode"])("div",x,[Object(a["createVNode"])("div",V,[Object(a["createVNode"])("div",D,[Object(a["createVNode"])("button",{type:"button",onClick:function(c){return t.cartBtn("minus",e)},disabled:1===e.qty,class:"input-group-text"},[S],8,["onClick","disabled"]),Object(a["createVNode"])("p",C,Object(a["toDisplayString"])(e.qty),1),Object(a["createVNode"])("button",{type:"button",onClick:function(c){return t.cartBtn("add",e)},class:"input-group-text"},[k],8,["onClick"])])])]),Object(a["createVNode"])("div",_,[Object(a["createVNode"])("div",L,"小計 $"+Object(a["toDisplayString"])(e.qty*e.price),1)])])]),Object(a["createVNode"])("div",$,[Object(a["createVNode"])("div",{class:"pe-2",onClick:function(c){return t.delLocalCart(e)}},[P],8,["onClick"])])])])})),128)),Object(a["createVNode"])("li",T,[Object(a["createVNode"])("div",E,[Object(a["createVNode"])("div",B," 共 "+Object(a["toDisplayString"])(t.carData.length)+" 項",1),I,Object(a["createVNode"])("div",q,"NT$ "+Object(a["toDisplayString"])(t.totalPrice),1),J])])])):Object(a["createCommentVNode"])("",!0)])]),t.carData.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("div",U,[Object(a["createVNode"])(R,{to:"/products",class:"cart-footer-btn btn btn-theme text-white hvr-float"},{default:Object(a["withCtx"])((function(){return[A,F]})),_:1}),Object(a["createVNode"])("button",{type:"button",onClick:e[3]||(e[3]=function(){return t.postCarts&&t.postCarts.apply(t,arguments)}),class:"cart-footer-btn btn btn-sgreen text-white hvr-float"},[M,Q])])):Object(a["createCommentVNode"])("",!0),z])])}var G=c("5530"),H=c("c0cc"),K=c("5502"),R={mixins:[H["a"]],data:function(){return{}},computed:Object(G["a"])({},Object(K["c"])(["isLoading"])),methods:{},created:function(){console.log("這頁為 localStorage 裡的購物車資料",this.carData)}};c("346c");R.render=W;e["default"]=R},"746f":function(t,e,c){var a=c("428f"),r=c("5135"),o=c("e538"),n=c("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});r(e,t)||n(e,t,{value:o.f(t)})}},a4d3:function(t,e,c){"use strict";var a=c("23e7"),r=c("da84"),o=c("d066"),n=c("c430"),i=c("83ab"),s=c("4930"),l=c("fdbf"),d=c("d039"),u=c("5135"),f=c("e8b5"),p=c("861d"),b=c("825a"),g=c("7b0b"),h=c("fc6a"),m=c("c04e"),O=c("5c6c"),v=c("7c73"),j=c("df75"),y=c("241c"),N=c("057f"),w=c("7418"),x=c("06cf"),V=c("9bf2"),D=c("d1e7"),S=c("9112"),C=c("6eeb"),k=c("5692"),_=c("f772"),L=c("d012"),$=c("90e3"),P=c("b622"),T=c("e538"),E=c("746f"),B=c("d44e"),I=c("69f3"),q=c("b727").forEach,J=_("hidden"),U="Symbol",A="prototype",F=P("toPrimitive"),M=I.set,Q=I.getterFor(U),z=Object[A],W=r.Symbol,G=o("JSON","stringify"),H=x.f,K=V.f,R=N.f,X=D.f,Y=k("symbols"),Z=k("op-symbols"),tt=k("string-to-symbol-registry"),et=k("symbol-to-string-registry"),ct=k("wks"),at=r.QObject,rt=!at||!at[A]||!at[A].findChild,ot=i&&d((function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,c){var a=H(z,e);a&&delete z[e],K(t,e,c),a&&t!==z&&K(z,e,a)}:K,nt=function(t,e){var c=Y[t]=v(W[A]);return M(c,{type:U,tag:t,description:e}),i||(c.description=e),c},it=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},st=function(t,e,c){t===z&&st(Z,e,c),b(t);var a=m(e,!0);return b(c),u(Y,a)?(c.enumerable?(u(t,J)&&t[J][a]&&(t[J][a]=!1),c=v(c,{enumerable:O(0,!1)})):(u(t,J)||K(t,J,O(1,{})),t[J][a]=!0),ot(t,a,c)):K(t,a,c)},lt=function(t,e){b(t);var c=h(e),a=j(c).concat(bt(c));return q(a,(function(e){i&&!ut.call(c,e)||st(t,e,c[e])})),t},dt=function(t,e){return void 0===e?v(t):lt(v(t),e)},ut=function(t){var e=m(t,!0),c=X.call(this,e);return!(this===z&&u(Y,e)&&!u(Z,e))&&(!(c||!u(this,e)||!u(Y,e)||u(this,J)&&this[J][e])||c)},ft=function(t,e){var c=h(t),a=m(e,!0);if(c!==z||!u(Y,a)||u(Z,a)){var r=H(c,a);return!r||!u(Y,a)||u(c,J)&&c[J][a]||(r.enumerable=!0),r}},pt=function(t){var e=R(h(t)),c=[];return q(e,(function(t){u(Y,t)||u(L,t)||c.push(t)})),c},bt=function(t){var e=t===z,c=R(e?Z:h(t)),a=[];return q(c,(function(t){!u(Y,t)||e&&!u(z,t)||a.push(Y[t])})),a};if(s||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=$(t),c=function(t){this===z&&c.call(Z,t),u(this,J)&&u(this[J],e)&&(this[J][e]=!1),ot(this,e,O(1,t))};return i&&rt&&ot(z,e,{configurable:!0,set:c}),nt(e,t)},C(W[A],"toString",(function(){return Q(this).tag})),C(W,"withoutSetter",(function(t){return nt($(t),t)})),D.f=ut,V.f=st,x.f=ft,y.f=N.f=pt,w.f=bt,T.f=function(t){return nt(P(t),t)},i&&(K(W[A],"description",{configurable:!0,get:function(){return Q(this).description}}),n||C(z,"propertyIsEnumerable",ut,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),q(j(ct),(function(t){E(t)})),a({target:U,stat:!0,forced:!s},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var c=W(e);return tt[e]=c,et[c]=e,c},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),a({target:"Object",stat:!0,forced:!s,sham:!i},{create:dt,defineProperty:st,defineProperties:lt,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pt,getOwnPropertySymbols:bt}),a({target:"Object",stat:!0,forced:d((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(g(t))}}),G){var gt=!s||d((function(){var t=W();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}));a({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,c){var a,r=[t],o=1;while(arguments.length>o)r.push(arguments[o++]);if(a=e,(p(e)||void 0!==t)&&!it(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!it(e))return e}),r[1]=e,G.apply(null,r)}})}W[A][F]||S(W[A],F,W[A].valueOf),B(W,U),L[J]=!0},c0cc:function(t,e,c){"use strict";c("159b"),c("99af"),c("a434"),c("4de4");var a={name:"MixUser",data:function(){return{loadingStatus:{loadingItem:""},carData:JSON.parse(localStorage.getItem("carData"))||[],cart:{carts:[]},cartLength:0,coupon_code:""}},computed:{totalPrice:function(){var t=this,e=[];return t.carData.forEach((function(t){e.push(parseInt(t.price*t.qty))})),e.reduce((function(t,e){return t+e}),0)}},methods:{getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart");t.$store.dispatch("updateLoading",!0),t.$http.get(e).then((function(e){t.cart=e.data.data,t.cartLength=t.cart.carts.length,console.log("購物車列表",t.cart),t.$store.dispatch("updateLoading",!1)}))},addlocalCarts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=this,a=[];if(c.carData.forEach((function(t){a.push(t.product_id)})),c.toastTopEnd("".concat(t.title," 加入購物車"),"success"),-1===a.indexOf(t.id)){var r={product_id:t.id,qty:e,title:t.title,imageUrl:t.imageUrl,unit:t.unit,origin_price:t.origin_price,price:t.price,category:t.category};c.carData.push(r),localStorage.setItem("carData",JSON.stringify(c.carData))}else{var o={};c.carData.forEach((function(a,r){if(a.product_id===t.id){var n=a.qty;o={product_id:t.id,qty:n+=e,title:t.title,imageUrl:t.imageUrl,unit:t.unit,origin_price:t.origin_price,price:t.price,category:t.category},c.carData.splice(r,1)}})),c.carData.push(o),localStorage.setItem("carData",JSON.stringify(c.carData))}},delLocalCart:function(t){var e=this;e.carData.filter((function(c,a){c.product_id===t.product_id&&(e.carData.splice(a,1),localStorage.setItem("carData",JSON.stringify(e.carData)),e.toastTopEnd("已移除購物車","success"))}))},delAllLocalCarts:function(){localStorage.removeItem("carData"),this.carData=JSON.parse(localStorage.getItem("carData"))||[],console.log("清空 localStorage 購物車全部內容"),this.toastTopEnd("購物車商品已全部刪除","success")},addCouponCode:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/coupon"),c={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),t.$http.post(e,{data:c}).then((function(e){e.data.success?(t.toastTopEnd(e.data.message,"success"),t.$store.dispatch("updateLoading",!1),t.getCarts()):(t.toastTopEnd(e.data.message,"error"),t.$store.dispatch("updateLoading",!1))}))},postCarts:function(){var t=this;this.coupon_code="",this.$store.dispatch("updateLoading",!0);var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/carts"),c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart");this.$http.delete(e).then((function(){console.log("1. 清空 API 購物車全部品項")})).then((function(){t.carData.forEach((function(e,a){var r={product_id:e.product_id,qty:e.qty};t.$http.post(c,{data:r}).then((function(){console.log("2. 產品索引",a,"POST 購物車成功"),setTimeout((function(){t.carData.length-1===a&&(console.log("3. 跑到最後一個 index",a,"準備轉址"),t.$store.dispatch("updateLoading",!1),t.$router.push("/checkout/order_create"),t.getCarts())}),4e3)}))}))}))},removeCartItem:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart/").concat(t);e.$store.dispatch("updateLoading",!0),e.$http.delete(c).then((function(t){t.data.success?(e.toastTopEnd(t.data.message,"success"),e.$store.dispatch("updateLoading",!1),e.getCarts()):(e.toastTopEnd(t.data.message,"error"),e.$store.dispatch("updateLoading",!1))})).catch((function(t){e.$swal({title:t.data.message,icon:"error"}),e.$store.dispatch("updateLoading",!1)}))},deleteAllCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/carts");t.$store.dispatch("updateLoading",!0),t.$http.delete(e).then((function(e){console.log("刪除全部商品",e.data),e.data.success?(t.toastTopEnd("購物車商品已全部刪除","success"),t.getCarts()):t.toastTopEnd(e.data.message,"error"),t.$store.dispatch("updateLoading",!1)})).catch((function(e){t.$swal({title:e.data.message,icon:"error"}),t.$store.dispatch("updateLoading",!1)}))},cartBtn:function(t,e){var c=this;if("add"===t)c.carData.filter((function(t){t.product_id===e.product_id&&(t.qty=t.qty+1),localStorage.setItem("carData",JSON.stringify(c.carData))}));else if("minus"===t){if(e.qty<=1)return;c.carData.filter((function(t){t.product_id===e.product_id&&(t.qty=t.qty-1),localStorage.setItem("carData",JSON.stringify(c.carData))}))}},productCartBtn:function(t){"add"===t?this.num+=1:"minus"===t&&(this.num-=1)},getDiscount:function(t){var e=Math.round(t);return e},toastTopEnd:function(t,e){this.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:e,title:t})}},created:function(){}};e["a"]=a},ca9f:function(t,e,c){},dbb4:function(t,e,c){var a=c("23e7"),r=c("83ab"),o=c("56ef"),n=c("fc6a"),i=c("06cf"),s=c("8418");a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,c,a=n(t),r=i.f,l=o(a),d={},u=0;while(l.length>u)c=r(a,e=l[u++]),void 0!==c&&s(d,e,c);return d}})},e439:function(t,e,c){var a=c("23e7"),r=c("d039"),o=c("fc6a"),n=c("06cf").f,i=c("83ab"),s=r((function(){n(1)})),l=!i||s;a({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(t,e){return n(o(t),e)}})},e538:function(t,e,c){var a=c("b622");e.f=a}}]);
//# sourceMappingURL=chunk-16d9dacc.3bcfddc0.js.map