{"version":3,"sources":["webpack:///./src/views/front/Login.vue?b123","webpack:///./src/views/front/Login.vue","webpack:///./src/views/front/Login.vue?8818"],"names":["src","alt","class","style","for","id","type","active","isLoading","signin","validation-schema","schema","errors","values","validate","userData","username","name","placeholder","rules","autofocus","passwordStatus","password","autocomplete","href","eyeChange","data","密碼","email","methods","vm","this","api","$http","post","then","res","console","log","expired","token","document","cookie","Date","$router","push","success","$swal","title","message","icon","catch","err","response","e","target","classList","contains","replace","render","__scopeId"],"mappings":"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","file":"js/chunk-8f86db72.0ca6d412.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=18fd8e66&scoped=true&lang=css\"","<template>\r\n<section>\r\n  <loading v-model:active=\"isLoading\">\r\n    <img src=\"https://upload.cc/i1/2021/06/12/N7mIQ1.gif\r\n\" alt=\"loading\">\r\n  </loading>\r\n  <div class=\"main\">\r\n    <div class=\"glass\">\r\n      <h3 class=\"mb-0 mb-sm-3 text-center text-theme fw-bolder\">\r\n        <i class=\"fas fa-user-alt me-9\"></i>登入後台\r\n      </h3>\r\n      <Form @submit=\"signin\" :validation-schema=\"schema\" v-slot=\"{ errors, values, validate }\" class=\"my-0 mx-10 m-sm-10 fw-bolder\">\r\n        <div style=\"display:none\">{{ errors }}{{ values }}{{ validate }}</div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"email\" class=\"col-sm-3 col-form-label fs-5\">Email</label>\r\n          <div class=\"col-sm-9\">\r\n            <Field type=\"email\" v-model=\"userData.username\" class=\"form-control\" id=\"email\" name=\"email\" placeholder=\"email\" :class=\"{ 'is-invalid': errors['email'] }\" rules=\"required\" autofocus></Field>\r\n            <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"密碼\" class=\"col-sm-3 col-form-label fs-5\">Password</label>\r\n          <div class=\"col-sm-9 position-relative\">\r\n            <Field :type=\"passwordStatus\" v-model=\"userData.password\" autocomplete=\"on\" class=\"form-control\" id=\"密碼\" name=\"密碼\" placeholder=\"Password\" :class=\"{ 'is-invalid': errors['密碼'] }\" rules=\"required\"></Field>\r\n            <error-message name=\"密碼\" class=\"invalid-feedback\"></error-message>\r\n            <a href=\"#\" @click.prevent=\"eyeChange\" class=\"eye\">\r\n              <h3 class=\"link-dark\" style=\"font-size: 20px\">\r\n                <i class=\"fas fa-eye-slash\" id=\"eye\"></i>\r\n              </h3>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mb-3 align-items-center\">\r\n          <legend class=\"col-form-label col-sm-3 pt-0 fs-5\">Radios</legend>\r\n          <div class=\"col-sm-9\">\r\n            <div class=\"form-check\">\r\n              <input class=\"form-check-input\" type=\"checkbox\" id=\"gridCheck1\">\r\n              <label class=\"form-check-label\" for=\"gridCheck1\">\r\n                記住我的密碼\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-grid gap-2\">\r\n          <button type=\"submit\" class=\"btn btn-hgray hvr-shadow-radial mt-4\">Sign in</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</section>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    const schema = {\r\n      密碼: 'required|min:6',\r\n      email: 'email|required'\r\n    }\r\n    return {\r\n      schema,\r\n      isLoading: false,\r\n      passwordStatus: 'password',\r\n      userData: {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    signin () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/admin/signin`\r\n      vm.isLoading = true\r\n      vm.$http.post(api, vm.userData).then(res => {\r\n        console.log(res)\r\n        const { expired, token } = res.data\r\n        document.cookie = `vue3Token=${token}; expires=${new Date(expired)}; path=/`\r\n        vm.isLoading = false\r\n        vm.$router.push('/admin/shopping')\r\n        if (!res.data.success) {\r\n          vm.$swal({ title: res.data.message, icon: 'error' })\r\n        }\r\n      })\r\n        .catch(err => {\r\n          console.log(err.response)\r\n          vm.isLoading = false\r\n          vm.$swal({ title: err.data.message, icon: 'error' })\r\n        })\r\n    },\r\n    eyeChange (e) {\r\n      if (e.target.classList.contains('fa-eye-slash')) {\r\n        this.passwordStatus = 'current-password'\r\n        e.target.classList.replace('fa-eye-slash', 'fa-eye')\r\n      } else {\r\n        e.target.classList.replace('fa-eye', 'fa-eye-slash')\r\n        this.passwordStatus = 'password'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.was-validated .form-control:invalid, .form-control.is-invalid {\r\n  background-image: none;\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=18fd8e66&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=18fd8e66&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-18fd8e66\"\n\nexport default script"],"sourceRoot":""}