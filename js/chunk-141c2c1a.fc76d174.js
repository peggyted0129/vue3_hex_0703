(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-141c2c1a"],{"057f":function(t,e,c){var o=c("fc6a"),a=c("241c").f,r={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return a(t)}catch(e){return n.slice()}};t.exports.f=function(t){return n&&"[object Window]"==r.call(t)?i(t):a(o(t))}},"4de4":function(t,e,c){"use strict";var o=c("23e7"),a=c("b727").filter,r=c("1dde"),n=r("filter");o({target:"Array",proto:!0,forced:!n},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));c("b64b"),c("a4d3"),c("4de4"),c("e439"),c("159b"),c("dbb4");function o(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function a(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,o)}return c}function r(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?a(Object(c),!0).forEach((function(e){o(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}},"58db":function(t,e,c){},"746f":function(t,e,c){var o=c("428f"),a=c("5135"),r=c("e538"),n=c("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});a(e,t)||n(e,t,{value:r.f(t)})}},a4d3:function(t,e,c){"use strict";var o=c("23e7"),a=c("da84"),r=c("d066"),n=c("c430"),i=c("83ab"),s=c("4930"),d=c("fdbf"),l=c("d039"),u=c("5135"),p=c("e8b5"),f=c("861d"),b=c("825a"),g=c("7b0b"),h=c("fc6a"),O=c("c04e"),m=c("5c6c"),j=c("7c73"),v=c("df75"),y=c("241c"),N=c("057f"),w=c("7418"),S=c("06cf"),V=c("9bf2"),D=c("d1e7"),x=c("9112"),C=c("6eeb"),_=c("5692"),k=c("f772"),$=c("d012"),L=c("90e3"),P=c("b622"),T=c("e538"),E=c("746f"),B=c("d44e"),I=c("69f3"),q=c("b727").forEach,J=k("hidden"),U="Symbol",A="prototype",F=P("toPrimitive"),M=I.set,Q=I.getterFor(U),z=Object[A],R=a.Symbol,W=r("JSON","stringify"),G=S.f,H=V.f,K=N.f,X=D.f,Y=_("symbols"),Z=_("op-symbols"),tt=_("string-to-symbol-registry"),et=_("symbol-to-string-registry"),ct=_("wks"),ot=a.QObject,at=!ot||!ot[A]||!ot[A].findChild,rt=i&&l((function(){return 7!=j(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,c){var o=G(z,e);o&&delete z[e],H(t,e,c),o&&t!==z&&H(z,e,o)}:H,nt=function(t,e){var c=Y[t]=j(R[A]);return M(c,{type:U,tag:t,description:e}),i||(c.description=e),c},it=d?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof R},st=function(t,e,c){t===z&&st(Z,e,c),b(t);var o=O(e,!0);return b(c),u(Y,o)?(c.enumerable?(u(t,J)&&t[J][o]&&(t[J][o]=!1),c=j(c,{enumerable:m(0,!1)})):(u(t,J)||H(t,J,m(1,{})),t[J][o]=!0),rt(t,o,c)):H(t,o,c)},dt=function(t,e){b(t);var c=h(e),o=v(c).concat(bt(c));return q(o,(function(e){i&&!ut.call(c,e)||st(t,e,c[e])})),t},lt=function(t,e){return void 0===e?j(t):dt(j(t),e)},ut=function(t){var e=O(t,!0),c=X.call(this,e);return!(this===z&&u(Y,e)&&!u(Z,e))&&(!(c||!u(this,e)||!u(Y,e)||u(this,J)&&this[J][e])||c)},pt=function(t,e){var c=h(t),o=O(e,!0);if(c!==z||!u(Y,o)||u(Z,o)){var a=G(c,o);return!a||!u(Y,o)||u(c,J)&&c[J][o]||(a.enumerable=!0),a}},ft=function(t){var e=K(h(t)),c=[];return q(e,(function(t){u(Y,t)||u($,t)||c.push(t)})),c},bt=function(t){var e=t===z,c=K(e?Z:h(t)),o=[];return q(c,(function(t){!u(Y,t)||e&&!u(z,t)||o.push(Y[t])})),o};if(s||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=L(t),c=function(t){this===z&&c.call(Z,t),u(this,J)&&u(this[J],e)&&(this[J][e]=!1),rt(this,e,m(1,t))};return i&&at&&rt(z,e,{configurable:!0,set:c}),nt(e,t)},C(R[A],"toString",(function(){return Q(this).tag})),C(R,"withoutSetter",(function(t){return nt(L(t),t)})),D.f=ut,V.f=st,S.f=pt,y.f=N.f=ft,w.f=bt,T.f=function(t){return nt(P(t),t)},i&&(H(R[A],"description",{configurable:!0,get:function(){return Q(this).description}}),n||C(z,"propertyIsEnumerable",ut,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:R}),q(v(ct),(function(t){E(t)})),o({target:U,stat:!0,forced:!s},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var c=R(e);return tt[e]=c,et[c]=e,c},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!i},{create:lt,defineProperty:st,defineProperties:dt,getOwnPropertyDescriptor:pt}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:bt}),o({target:"Object",stat:!0,forced:l((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(g(t))}}),W){var gt=!s||l((function(){var t=R();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));o({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,c){var o,a=[t],r=1;while(arguments.length>r)a.push(arguments[r++]);if(o=e,(f(e)||void 0!==t)&&!it(t))return p(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!it(e))return e}),a[1]=e,W.apply(null,a)}})}R[A][F]||x(R[A],F,R[A].valueOf),B(R,U),$[J]=!0},c0cc:function(t,e,c){"use strict";c("159b"),c("99af"),c("a434"),c("4de4");var o={name:"MixUser",data:function(){return{loadingStatus:{loadingItem:""},carData:JSON.parse(localStorage.getItem("carData"))||[],cart:{carts:[]},cartLength:0,coupon_code:""}},computed:{totalPrice:function(){var t=this,e=[];return t.carData.forEach((function(t){e.push(parseInt(t.price*t.qty))})),e.reduce((function(t,e){return t+e}),0)}},methods:{getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart");t.$store.dispatch("updateLoading",!0),t.$http.get(e).then((function(e){t.cart=e.data.data,t.cartLength=t.cart.carts.length,console.log("購物車列表",t.cart),t.$store.dispatch("updateLoading",!1)}))},addlocalCarts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=this,o=[];if(c.carData.forEach((function(t){o.push(t.product_id)})),c.toastTopEnd("".concat(t.title," 加入購物車"),"success"),-1===o.indexOf(t.id)){var a={product_id:t.id,qty:e,title:t.title,imageUrl:t.imageUrl,unit:t.unit,origin_price:t.origin_price,price:t.price,category:t.category};c.carData.push(a),localStorage.setItem("carData",JSON.stringify(c.carData))}else{var r={};c.carData.forEach((function(o,a){if(o.product_id===t.id){var n=o.qty;r={product_id:t.id,qty:n+=e,title:t.title,imageUrl:t.imageUrl,unit:t.unit,origin_price:t.origin_price,price:t.price,category:t.category},c.carData.splice(a,1)}})),c.carData.push(r),localStorage.setItem("carData",JSON.stringify(c.carData))}},delLocalCart:function(t){var e=this;e.carData.filter((function(c,o){c.product_id===t.product_id&&(e.carData.splice(o,1),localStorage.setItem("carData",JSON.stringify(e.carData)),e.toastTopEnd("已移除購物車","success"))}))},delAllLocalCarts:function(){localStorage.removeItem("carData"),this.carData=JSON.parse(localStorage.getItem("carData"))||[],console.log("清空 localStorage 購物車全部內容"),this.toastTopEnd("購物車商品已全部刪除","success")},addCouponCode:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/coupon"),c={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),t.$http.post(e,{data:c}).then((function(e){e.data.success?(t.toastTopEnd(e.data.message,"success"),t.$store.dispatch("updateLoading",!1),t.getCarts()):(t.toastTopEnd(e.data.message,"error"),t.$store.dispatch("updateLoading",!1))}))},postCarts:function(){var t=this;this.coupon_code="",this.$store.dispatch("updateLoading",!0);var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/carts"),c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart");this.$http.delete(e).then((function(){console.log("1. 清空 API 購物車全部品項")})).then((function(){t.carData.forEach((function(e,o){var a={product_id:e.product_id,qty:e.qty};t.$http.post(c,{data:a}).then((function(){console.log("2. 產品索引",o,"POST 購物車成功"),setTimeout((function(){t.carData.length-1===o&&(console.log("3. 跑到最後一個 index",o,"準備轉址"),t.$store.dispatch("updateLoading",!1),t.$router.push("/checkout/order_create"),t.getCarts())}),4e3)}))}))}))},removeCartItem:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/cart/").concat(t);e.$store.dispatch("updateLoading",!0),e.$http.delete(c).then((function(t){t.data.success?(e.toastTopEnd(t.data.message,"success"),e.$store.dispatch("updateLoading",!1),e.getCarts()):(e.toastTopEnd(t.data.message,"error"),e.$store.dispatch("updateLoading",!1))})).catch((function(t){e.$swal({title:t.data.message,icon:"error"}),e.$store.dispatch("updateLoading",!1)}))},deleteAllCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue3_api","/carts");t.$store.dispatch("updateLoading",!0),t.$http.delete(e).then((function(e){console.log("刪除全部商品",e.data),e.data.success?(t.toastTopEnd("購物車商品已全部刪除","success"),t.getCarts()):t.toastTopEnd(e.data.message,"error"),t.$store.dispatch("updateLoading",!1)})).catch((function(e){t.$swal({title:e.data.message,icon:"error"}),t.$store.dispatch("updateLoading",!1)}))},cartBtn:function(t,e){var c=this;if("add"===t)c.carData.filter((function(t){t.product_id===e.product_id&&(t.qty=t.qty+1),localStorage.setItem("carData",JSON.stringify(c.carData))}));else if("minus"===t){if(e.qty<=1)return;c.carData.filter((function(t){t.product_id===e.product_id&&(t.qty=t.qty-1),localStorage.setItem("carData",JSON.stringify(c.carData))}))}},productCartBtn:function(t){"add"===t?this.num+=1:"minus"===t&&(this.num-=1)},getDiscount:function(t){var e=Math.round(t);return e},toastTopEnd:function(t,e){this.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:e,title:t})}},created:function(){}};e["a"]=o},dbb4:function(t,e,c){var o=c("23e7"),a=c("83ab"),r=c("56ef"),n=c("fc6a"),i=c("06cf"),s=c("8418");o({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,c,o=n(t),a=i.f,d=r(o),l={},u=0;while(d.length>u)c=a(o,e=d[u++]),void 0!==c&&s(l,e,c);return l}})},e28c:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),a={class:"mt-13 mb-20"},r=Object(o["createVNode"])("img",{src:"https://upload.cc/i1/2021/06/12/N7mIQ1.gif\r\n",alt:"loading"},null,-1),n={class:"d-flex align-items-center justify-content-between mt-10 mb-4"},i=Object(o["createVNode"])("h3",{class:"text-theme fw-bolder mb-4"},"購物車內容確認",-1),s={key:0,class:"empty fw-bolder d-flex align-items-center justify-content-center mb-20"},d=Object(o["createVNode"])("div",null,[Object(o["createVNode"])("p",null,"還沒有商品要結帳喔，快回上一頁確認購買商品吧!!")],-1),l={key:1,class:"row"},u={class:"col-12 col-md-7"},p={class:"order py-4 px-0 p-sm-4"},f={class:"row flex-wrap"},b={class:"col-3 col-md-2 px-0 px-md-0"},g={class:"orderImg h-100"},h={class:"col-9 col-md-10 px-0"},O={class:"row mx-3 w-100"},m={class:"col-12 col-md-6 pb-3 px-0"},j={class:"orderTitle fw-bolder pt-md-9"},v={class:"col-6 col-md-2 pb-3 px-0"},y={class:"pt-md-9 ms-md-3"},N={class:"col-6 col-md-4 pt-md-9 text-end"},w={class:"orderTotal pe-3"},S={class:"border-0 mb-0"},V={class:"row"},D={class:"col-6 text-end"},x={class:"col-6 ps-0 pe-7 text-end"},C={class:"col-12 col-md-5 order-info align-self-baseline"},_={class:"input-group mb-3 my-7"},k={class:"totalInfo fw-bolder my-10 w-100"},$=Object(o["createVNode"])("td",null,"總計金額",-1),L={class:"text-end"},P=Object(o["createVNode"])("td",null,"優惠折抵",-1),T={class:"text-end"},E={key:0,class:"h5 fw-bolder"},B={key:1,class:"h5 fw-bolder"},I={class:"h5 fw-bolder text-sgreen text-end"},q={class:"nextStep text-end mb-7"},J=Object(o["createTextVNode"])(" 下一步"),U=Object(o["createVNode"])("i",{class:"fas fa-angle-double-right ms-3"},null,-1),A=Object(o["createVNode"])("div",null,[Object(o["createVNode"])("p",{class:"h6 text-sgreen ms-5 fw-bolder"},"( 優惠券 8 折碼 : CoolCoupon8 )")],-1),F=Object(o["createStaticVNode"])('<div class="product-content mt-12 mb-4"><h3>NOTICE</h3></div><div class="text-sgreen d-flex align-items-center"><i class="fas fa-exclamation-circle me-5" style="font-size:20px;"></i><h5 class="fw-bolder">注意事項</h5></div><ul class="notice ps-11 fw-bolder"><li class="mt-5">所有產品保證全為原裝進口，品質有保障。</li><li>請確認所填寫的資料是否正確，下單後未提供修改付款方式服務。</li><li>提供完整客戶諮詢服務。</li><li>提供您最有保障及便利的購物環境。</li><li>所有商品運送均使用統一速達宅急便，可挑選最方便收貨時間。</li><li>本店商品為統一會於付款後 7 個工作日內出貨(不含假日)。</li><li>辦理退換貨時，商品必須是全新狀態與完整包裝，退回之商品必須於 7 日鑑賞期內寄回。</li></ul>',3);function M(t,e,c,M,Q,z){var R=Object(o["resolveComponent"])("loading"),W=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("section",a,[Object(o["createVNode"])(R,{active:t.isLoading,"onUpdate:active":e[1]||(e[1]=function(e){return t.isLoading=e})},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["active"]),Object(o["createVNode"])("div",n,[i,t.cartLength>0?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,onClick:e[2]||(e[2]=function(){return t.deleteAllCarts&&t.deleteAllCarts.apply(t,arguments)}),class:"btn btn-outline-danger",type:"button"},"清空購物車")):Object(o["createCommentVNode"])("",!0)]),0===t.cartLength?(Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[d])):Object(o["createCommentVNode"])("",!0),t.cartLength>0?(Object(o["openBlock"])(),Object(o["createBlock"])("div",l,[Object(o["createVNode"])("div",u,[Object(o["createVNode"])("ul",p,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t.cart.carts,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{class:"orderList",key:t.product_id},[Object(o["createVNode"])("div",f,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",g,[Object(o["createVNode"])("img",{src:t.product.imageUrl,alt:"cart-item"},null,8,["src"])])]),Object(o["createVNode"])("div",h,[Object(o["createVNode"])("div",O,[Object(o["createVNode"])("div",m,[Object(o["createVNode"])("div",j,Object(o["toDisplayString"])(t.product.title),1)]),Object(o["createVNode"])("div",v,[Object(o["createVNode"])("div",y,Object(o["toDisplayString"])(t.qty)+" "+Object(o["toDisplayString"])(t.product.unit),1)]),Object(o["createVNode"])("div",N,[Object(o["createVNode"])("div",w,"小計 $"+Object(o["toDisplayString"])(t.total),1)])])])])])})),128)),Object(o["createVNode"])("li",S,[Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",D," 共 "+Object(o["toDisplayString"])(t.cartLength)+" 項",1),Object(o["createVNode"])("div",x,"總計 NT$ "+Object(o["toDisplayString"])(t.cart.total),1)])])])]),Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",_,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.coupon_code=e}),class:"form-control",placeholder:"請輸入優惠碼","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[o["vModelText"],t.coupon_code,void 0,{trim:!0}]]),Object(o["createVNode"])("button",{onClick:e[4]||(e[4]=function(){return t.addCouponCode&&t.addCouponCode.apply(t,arguments)}),class:"btn btn-theme hvr-bounce-to-right",type:"button"},"套用優惠碼")]),Object(o["createVNode"])("table",k,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[$,Object(o["createVNode"])("td",L,"NT $"+Object(o["toDisplayString"])(t.cart.total),1)]),Object(o["createVNode"])("tr",null,[P,Object(o["createVNode"])("td",T,"- NT $"+Object(o["toDisplayString"])(t.getDiscount(t.cart.total-t.cart.final_total)),1)]),Object(o["createVNode"])("tr",null,[t.cart.total!==t.cart.final_total?(Object(o["openBlock"])(),Object(o["createBlock"])("td",E,"應付金額 (已套用優惠券)")):Object(o["createCommentVNode"])("",!0),t.cart.total===t.cart.final_total?(Object(o["openBlock"])(),Object(o["createBlock"])("td",B,"應付金額 (未使用優惠券)")):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("td",I,"NT $"+Object(o["toDisplayString"])(t.getDiscount(t.cart.final_total)),1)])])]),Object(o["createVNode"])("div",q,[Object(o["createVNode"])(W,{to:"/checkout/order_buying",class:"btn btn-theme hvr-bounce-to-right",type:"button"},{default:Object(o["withCtx"])((function(){return[J,U]})),_:1})]),A])])):Object(o["createCommentVNode"])("",!0),F])}var Q=c("5530"),z=c("5502"),R=c("c0cc"),W={mixins:[R["a"]],data:function(){return{}},computed:Object(Q["a"])({},Object(z["c"])(["isLoading","orderStep"])),methods:Object(Q["a"])({},Object(z["b"])(["setOrderStep"])),created:function(){this.getCarts(),this.setOrderStep("create")}};c("ec13");W.render=M;e["default"]=W},e439:function(t,e,c){var o=c("23e7"),a=c("d039"),r=c("fc6a"),n=c("06cf").f,i=c("83ab"),s=a((function(){n(1)})),d=!i||s;o({target:"Object",stat:!0,forced:d,sham:!i},{getOwnPropertyDescriptor:function(t,e){return n(r(t),e)}})},e538:function(t,e,c){var o=c("b622");e.f=o},ec13:function(t,e,c){"use strict";c("58db")}}]);
//# sourceMappingURL=chunk-141c2c1a.fc76d174.js.map